{"ast":null,"code":"var _jsxFileName = \"/Users/ahnkwanghyun/project/faddy/src/main/frontend/src/SignUp/CreateNicknamePage.js\",\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect, useContext, useRef } from 'react';\nimport * as Style from \".././Common/SignUpStyle\";\nimport { Link } from 'react-router-dom';\nimport SignUpContext from \"./SignUpContext\";\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction NicknameInputForm() {\n  _s2();\n  var _s = $RefreshSig$();\n  const [nickname, setNickname] = useContext(SignUpContext);\n  const [error, setError] = useState('');\n  const [message, setMessage] = useState('');\n  const [isIdDuplicated, setIsIdDuplicated] = useState(false);\n  const [isNicknameAvailable, setIsNicknameAvailable] = useState(false);\n  const nicknameRef = useRef();\n  const onChangeNicknameHandler = e => {\n    const value = e.target.value;\n    if (value.trim() === \"\") {\n      // 닉네임 공백이면 서버 요청 x\n      return;\n    }\n\n    // nickname 중복 검사\n    isNicknameDuplicateCheck(value);\n  };\n  const isNicknameDuplicateCheck = async nickname => {\n    await axios.post(\"http://localhost:9000/users/check-duplication/nickname\", {\n      nickname: nickname\n    }).then(response => {\n      var _response$data;\n      console.log(response);\n      if ((response === null || response === void 0 ? void 0 : (_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.isDuplicated) == null || response.data.message == null) {\n        setError(\"잘못된 요청입니다.\");\n        return;\n      }\n      setIsIdAvailable(!response.data.isDuplicated);\n      setMessage(response.data.message);\n    }).catch(function (error) {\n      console.log(error);\n      setError(\"요청 처리 중 오류가 발생했습니다. 다시 시도해주세요.\");\n    });\n  };\n  const DisplayMessage = ({\n    error,\n    message\n  }) => {\n    if (error) {\n      return /*#__PURE__*/_jsxDEV(Style.ErrorMessage, {\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 18\n      }, this);\n    } else if (message) {\n      return /*#__PURE__*/_jsxDEV(Style.Message, {\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 18\n      }, this);\n    }\n    return null;\n  };\n  const onFormSubmit = event => {\n    _s();\n    event.preventDefault();\n    const nickname = nicknameRef.current.value;\n    setNickname(nickname);\n    console.log(nickname);\n    let history = useHistory();\n\n    // history.push()를 사용하여 원하는 URL로 라우팅합니다.\n    history.push(`/signUp/password`);\n  };\n  _s(onFormSubmit, \"9cZfZ04734qoCGIctmKX7+sX6eU=\", true);\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: onFormSubmit,\n    children: [/*#__PURE__*/_jsxDEV(Style.Instruction, {\n      children: \"\\uB2C9\\uB124\\uC784\\uC744 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Style.InputField, {\n      ref: nicknameRef,\n      onChange: onChangeNicknameHandler,\n      type: \"text\",\n      id: \"nickname\",\n      name: \"nickname\",\n      value: nickname,\n      placeholder: \"\\uB2C9\\uB124\\uC784 \\uC785\\uB825\",\n      theme: \"underLine\",\n      maxLength: 15\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(DisplayMessage, {\n      error: error,\n      message: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Style.StepInfo, {\n      children: \"3 of 3\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Style.ProgressSection, {\n      children: /*#__PURE__*/_jsxDEV(Style.ProgressBar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Style.NextButton, {\n      type: \"submit\",\n      disabled: isIdAvailable,\n      children: \"\\uB2E4\\uC74C\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Style.FooterIndicator, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 9\n  }, this);\n}\n_s2(NicknameInputForm, \"7bShgxaC3fzqnHu5HEpC0m2LpdY=\");\n_c = NicknameInputForm;\nexport default NicknameInputForm;\nvar _c;\n$RefreshReg$(_c, \"NicknameInputForm\");","map":{"version":3,"names":["React","useState","useEffect","useContext","useRef","Style","Link","SignUpContext","axios","useNavigate","jsxDEV","_jsxDEV","NicknameInputForm","_s2","_s","$RefreshSig$","nickname","setNickname","error","setError","message","setMessage","isIdDuplicated","setIsIdDuplicated","isNicknameAvailable","setIsNicknameAvailable","nicknameRef","onChangeNicknameHandler","e","value","target","trim","isNicknameDuplicateCheck","post","then","response","_response$data","console","log","data","isDuplicated","setIsIdAvailable","catch","DisplayMessage","ErrorMessage","children","fileName","_jsxFileName","lineNumber","columnNumber","Message","onFormSubmit","event","preventDefault","current","history","useHistory","push","onSubmit","Instruction","InputField","ref","onChange","type","id","name","placeholder","theme","maxLength","StepInfo","ProgressSection","ProgressBar","NextButton","disabled","isIdAvailable","FooterIndicator","_c","$RefreshReg$"],"sources":["/Users/ahnkwanghyun/project/faddy/src/main/frontend/src/SignUp/CreateNicknamePage.js"],"sourcesContent":["import React, { useState , useEffect , useContext , useRef } from 'react';\nimport * as Style from \".././Common/SignUpStyle\";\nimport { Link } from 'react-router-dom';\nimport SignUpContext from \"./SignUpContext\";\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\n\n\nfunction NicknameInputForm() {\n    const [nickname , setNickname] = useContext(SignUpContext);\n    const [error, setError] = useState('');\n    const [message, setMessage] = useState('');\n    const [isIdDuplicated, setIsIdDuplicated] = useState(false);\n    const [isNicknameAvailable, setIsNicknameAvailable] = useState(false);\n\n    const nicknameRef = useRef();\n\n    const onChangeNicknameHandler = (e) => {\n        const value = e.target.value;\n\n        if(value.trim() === \"\") { // 닉네임 공백이면 서버 요청 x\n            return;\n        }\n\n        // nickname 중복 검사\n        isNicknameDuplicateCheck(value);\n    }\n\n    const isNicknameDuplicateCheck = async(nickname) => {\n        await axios.post(\"http://localhost:9000/users/check-duplication/nickname\" , {\n            nickname : nickname\n        })\n        .then((response) => {\n            console.log(response);\n\n            if(response?.data?.isDuplicated == null || response.data.message == null) {\n                setError(\"잘못된 요청입니다.\");\n                return;\n            }\n\n            setIsIdAvailable(!response.data.isDuplicated);\n            setMessage(response.data.message);\n\n        })\n        .catch(function(error) {\n            console.log(error);\n            setError(\"요청 처리 중 오류가 발생했습니다. 다시 시도해주세요.\");\n        })\n    }\n\n    const DisplayMessage = ({ error , message }) => {\n        if (error) {\n          return <Style.ErrorMessage>{error}</Style.ErrorMessage>;\n        } else if (message) {\n          return <Style.Message>{message}</Style.Message>;\n        }\n          return null;\n        };\n\n    const onFormSubmit = (event) => {\n        event.preventDefault();\n        const nickname = nicknameRef.current.value;\n        setNickname(nickname);\n\n        console.log(nickname);\n\n        let history = useHistory();\n\n        // history.push()를 사용하여 원하는 URL로 라우팅합니다.\n        history.push(`/signUp/password`);\n    };\n\n\n    return (\n        <form onSubmit={onFormSubmit}>\n            <Style.Instruction>닉네임을 입력해주세요.</Style.Instruction>\n\n            <Style.InputField\n                ref = {nicknameRef}\n                onChange={onChangeNicknameHandler}\n                type=\"text\"\n                id='nickname'\n                name='nickname'\n                value={nickname}\n                placeholder=\"닉네임 입력\"\n                theme='underLine'\n                maxLength={15}\n            />\n\n            <DisplayMessage error={error} message={message} />\n\n            <Style.StepInfo>3 of 3</Style.StepInfo>\n            <Style.ProgressSection>\n                <Style.ProgressBar />\n            </Style.ProgressSection>\n\n            <Style.NextButton type = \"submit\" disabled={isIdAvailable} >다음</Style.NextButton>\n\n            <Style.FooterIndicator />\n        </form>\n    );\n}\n\nexport default NicknameInputForm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}